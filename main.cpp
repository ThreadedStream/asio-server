#include "CppServer/core/app.hpp"


// A very, very bad idea
App app;

void dispose(int signum){
    app.dispose(signum);
}

int main(int, const char *[]) {

    signal(SIGKILL, dispose);
    signal(SIGTERM, dispose);
    signal(SIGINT, dispose);

    puts("\n████████╗██╗  ██╗██████╗ ███████╗ █████╗ ██████╗ ███████╗██████╗ ███████╗████████╗██████╗ ███████╗ █████╗ ███╗   ███╗\n"
            "╚══██╔══╝██║  ██║██╔══██╗██╔════╝██╔══██╗██╔══██╗██╔════╝██╔══██╗██╔════╝╚══██╔══╝██╔══██╗██╔════╝██╔══██╗████╗ ████║\n"
            "   ██║   ███████║██████╔╝█████╗  ███████║██║  ██║█████╗  ██║  ██║███████╗   ██║   ██████╔╝█████╗  ███████║██╔████╔██║\n"
            "   ██║   ██╔══██║██╔══██╗██╔══╝  ██╔══██║██║  ██║██╔══╝  ██║  ██║╚════██║   ██║   ██╔══██╗██╔══╝  ██╔══██║██║╚██╔╝██║\n"
            "   ██║   ██║  ██║██║  ██║███████╗██║  ██║██████╔╝███████╗██████╔╝███████║   ██║   ██║  ██║███████╗██║  ██║██║ ╚═╝ ██║\n"
            "   ╚═╝   ╚═╝  ╚═╝╚═╝  ╚═╝╚══════╝╚═╝  ╚═╝╚═════╝ ╚══════╝╚═════╝ ╚══════╝   ╚═╝   ╚═╝  ╚═╝╚══════╝╚═╝  ╚═╝╚═╝     ╚═╝\n");
    sleep(1);
    puts("                                           █████╗  ███╗   ██╗██████╗ \n"
         "                                           ██╔══██╗████╗  ██║██╔══██╗\n"
         "                                           ███████║██╔██╗ ██║██║  ██║\n"
         "                                           ██╔══██║██║╚██╗██║██║  ██║\n"
         "                                           ██║  ██║██║ ╚████║██████╔╝\n"
         "                                           ╚═╝  ╚═╝╚═╝  ╚═══╝╚═════╝\n");

    sleep(1);
    puts ("     ___       _______  ____    ____  _______ .__   __. .___________. __    __  .______       _______     _______.    __  .__   __.      ______              \n"
          "    /   \\     |       \\ \\   \\  /   / |   ____||  \\ |  | |           ||  |  |  | |   _  \\     |   ____|   /       |   |  | |  \\ |  |     /      |   _     _   \n"
          "   /  ^  \\    |  .--.  | \\   \\/   /  |  |__   |   \\|  | `---|  |----`|  |  |  | |  |_)  |    |  |__     |   (----`   |  | |   \\|  |    |  ,----' _| |_ _| |_ \n"
          "  /  /_\\  \\   |  |  |  |  \\      /   |   __|  |  . `  |     |  |     |  |  |  | |      /     |   __|     \\   \\       |  | |  . `  |    |  |     |_   _|_   _|\n"
          " /  _____  \\  |  '--'  |   \\    /    |  |____ |  |\\   |     |  |     |  `--'  | |  |\\  \\----.|  |____.----)   |      |  | |  |\\   |    |  `----.  |_|   |_|  \n"
          "/__/     \\__\\ |_______/     \\__/     |_______||__| \\__|     |__|      \\______/  | _| `._____||_______|_______/       |__| |__| \\__|     \\______|             \n");
    app.run_http_server();
}